
<div class="header-wrap main-header inner">
  <div class="logo-wrap">
    <a href="../main/main.html">
      <h1><span class="hidden">sorin</span></h1>
    </a>
  </div>
  <div class="gnb-wrap">
    <ul class="gnb">
      <li class="company"><a href="../sub/sub01_company.html" class="depth1">기업소개</a>
        <div class="depth2 company-con">
          <ul>
            <li><a href="../sub/sub01_company.html">개요</a></li>
            <li><a href="../sub/sub02_greeting.html">인사말</a></li>
            <li><a href="../sub/sub03_vision.html">비전</a></li>
            <li><a href="../sub/sub04_family.html">계열사 소개</a></li>
            <li><a href="../sub/sub05_location.html">사업장</a></li>
          </ul>
        </div>
      </li>
      <li class="servicenow"><a href="../servicenow/view.html" class="depth1">Servicenow</a>
      </li>
      <li class="infra"><a href="../infrabusiness/view.html" class="depth1">Infra Business</a>
        <div class="depth2 infra-con">
          <ul>
            <li class="infra-solution">
              <a href="../infrabusiness/infrabusiness_sub01.html">인프라</a>
              <img src="../../resources/images/common/arrow_black.png" alt="">
            </li>
            <li class="depth3"><a href="../infrabusiness/infrabusiness_sub01.html">Cloud Platform</a></li>
            <li class="depth3"><a href="../infrabusiness/infrabusiness_sub02.html">Backup Solution</a></li>
            <li class="depth3"><a href="../infrabusiness/infrabusiness_sub03.html">Data Security  & HCI</a></li>
            <li><a href="../infrabusiness/infrabusiness_sub04.html">하드웨어</a></li>
          </ul>
        </div>
      </li>
      <li><a href="../consulting/view.html" class="depth1">Consulting Business</a>
      </li>
      <li class="recruit"><a href="../sub/sub06_recruit.html" class="depth1">인재채용</a>
        <div class="depth2 recruit-con">
          <ul>
            <li><a href="../sub/sub06_recruit.html">인재상</a></li>
            <li><a href="../sub/sub07_benefit.html">복리후생</a></li>
          </ul>
        </div>
      </li>
      <li><a href="../sub/sub08_customer.html" class="depth1">고객문의</a>
      </li>
      
    </ul>
  </div>
</div>

<div class="only-mo mo-menu-wrapper">
  <div class="mobile-top">
    <a href="#">
      <div class="mo-logo"><span class="hidden">sorin</span></div>
    </a>
    <button class="mo-nav">
      <h1><span class="hidden">sorin</span></h1>
    </button>
  </div>
  <div class="mo-menu-container">
    <button class="mo-close"><img src="../../resources/images/common/btn_close.png" alt=""></button>
    <ul id="mobileMenu" class="mo-menu">
      <li>
        <div class="menu-depth1">
          <p>기업소개</p>
          <img src="../../resources/images/common/arrow_black.png" alt="">
        </div>
        <ul class="submenu">
          <li><a href="../sub/sub01_company.html">개요</a></li>
          <li><a href="../sub/sub02_greeting.html">인사말</a></li>
          <li><a href="../sub/sub03_vision.html">비젼</a></li>
          <li><a href="../sub/sub04_family.html">계열사 소개</a></li>
          <li><a href="../sub/sub05_location.html">사업장</a></li>
        </ul>
      </li>
      <li>
        <div class="menu-depth1"><a href="../servicenow/view.html">Servicenow</a></div>
      </li>
      <li>
        <div class="menu-depth1">
          <div class="menu-depth1"><a href="../infrabusiness/view.html">Infra Business</a></div>
          <img src="../../resources/images/common/arrow_black.png" alt="">
        </div>
        <ul class="submenu">
          <li><a href="../infrabusiness/infrabusiness_sub01.html">인프라</a></li>
          <li><a href="../infrabusiness/infrabusiness_sub04.html">하드웨어</a></li>
        </ul>
      </li>
      <li>
        <div class="menu-depth1"><a href="../consulting/view.html">Consulting Business</a></div>
      </li>
      <li>
        <div class="menu-depth1">
          <div class="menu-depth1"><a href="../sub/sub06_recruit.htmll">인재채용</a></div>
          <img src="../../resources/images/common/arrow_black.png" alt="">
        </div>
        <ul class="submenu">
          <li><a href="../sub/sub06_recruit.html">인재상</a></li>
          <li><a href="../sub/sub07_benefit.html">복리후생</a></li>
        </ul>
      </li>
      <li>
        <div class="menu-depth1"><a href="../sub/sub08_customer.html">고객문의</a></div>
      </li>
    </ul>
  </div>
</div>
<!-- <div class="background-b"></div> -->
<script>

// $(document).ready(function() {
//     // Restore active state from storage
//     var activePath = localStorage.getItem('activePath');
//     if (activePath) {
//         $('.gnb a[href="' + activePath + '"]').addClass('active').closest('li').addClass('active');
//     }
    
//     $('.gnb > li > a.depth1').click(function(e) {
//         $('.gnb > li').removeClass('active'); 
//         $(this).parent('li').addClass('active'); 
//         localStorage.setItem('activePath', $(this).attr('href')); 
//         window.location.href = $(this).attr('href'); 
//     });
  
//     $('.gnb > li .depth2 ul li a').click(function(e) {
//         e.preventDefault(); 
//         $('.gnb li, .gnb li a').removeClass('active'); 
//         $(this).addClass('active').closest('.gnb > li').addClass('active');
//         localStorage.setItem('activePath', $(this).attr('href')); 
//         window.location.href = $(this).attr('href'); 
//     });
//     $('.gnb .depth2 ul li.active').each(function() {
//         $(this).closest('.gnb > li').addClass('active');
//     });

// });
$(document).ready(function() {
    // Restore active state from storage
    var activePath = localStorage.getItem('activePath');
    if (activePath) {
        $('.gnb a[href="' + activePath + '"]').addClass('active').closest('li').addClass('active');
    }
    
    // Check if 'main' class is present on the body
    if ($('body').hasClass('main')) {
        $('.gnb .active').removeClass('active');
    }

    // Click event for depth1 links
    $('.gnb > li > a.depth1').click(function(e) {
        $('.gnb > li').removeClass('active'); 
        $(this).parent('li').addClass('active'); 
        localStorage.setItem('activePath', $(this).attr('href')); 
        window.location.href = $(this).attr('href'); 
    });
  
    // Click event for depth2 links
    $('.gnb > li .depth2 ul li a').click(function(e) {
        e.preventDefault(); 
        $('.gnb li, .gnb li a').removeClass('active'); 
        $(this).addClass('active').closest('.gnb > li').addClass('active');
        localStorage.setItem('activePath', $(this).attr('href')); 
        window.location.href = $(this).attr('href'); 
    });

    // Maintain active state on page reload for nested items
    $('.gnb .depth2 ul li.active').each(function() {
        $(this).closest('.gnb > li').addClass('active');
    });

});




var prevScrollpos = window.pageYOffset;
window.onscroll = function() {
  var currentScrollPos = window.pageYOffset;

  if (prevScrollpos > currentScrollPos) {
    document.getElementById("header").style.top = "0";
    //$('body').css('padding-top', '0');
    $("#header").removeClass("hide").addClass("active");
    $(".header-wrap h1").addClass("active");

    $(".infra-menu").addClass("hide").addClass("hide");
    // document.querySelector(".infra-menu").style.top = "70px";
  } else {
    document.getElementById("header").style.top = "-94px";
    //$('body').css('padding-top', '150px');
    $("#header").removeClass("active").addClass("hide");
    $(".infra-menu").removeClass("hide").addClass("fixed");
    // document.querySelector(".infra-menu").style.top = "0";
  }
  prevScrollpos = currentScrollPos;
}

$(window).scroll(function() {
  if ($(this).scrollTop() === 0) {
    $(".header-wrap, .header-wrap h1").removeClass("active");
    $("#header").removeClass("active");
    // $(".infra-menu").css("transition", "all 0.5s ease");
  }
});




$(function() {
	var Accordion = function(el, multiple) {
		this.el = el || {};
		this.multiple = multiple || false;

		// Variables privadas
		var links = this.el.find('.menu-depth1');
		// Evento
		links.on('click', {el: this.el, multiple: this.multiple}, this.dropdown)
	}

	Accordion.prototype.dropdown = function(e) {
		var $el = e.data.el;
			$this = $(this),
			$next = $this.next();

		$next.slideToggle();
		$this.parent().toggleClass('open');

		if (!e.data.multiple) {
			$el.find('.submenu').not($next).slideUp().parent().removeClass('open');
		};
	}	

	var accordion = new Accordion($('#mobileMenu'), false);
});


$(".mo-nav").click(function () {
  $('.mo-menu-container').addClass('active');
  $('.background-b').addClass('active');
  $('body').addClass('noScroll');
});
$(".mo-close").click(function () {
  $('.mo-menu-container').removeClass('active');
  $('.background-b').removeClass('active');
  $('body').removeClass('noScroll');
  });

</script>